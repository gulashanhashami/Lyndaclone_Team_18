<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product Development</title>
    <link
      rel="icon"
      href="https://play-lh.googleusercontent.com/_rscxiBBXosch987Y2RJjgeVzhCoewK_0IXsrIKFKKVAaXRqZaVXcSgap7uwM4-fbck"
      type="image/icon type"
    />
    <link rel="stylesheet" href="./CoursesStyles/courses.css" />
  </head>
  <body>
    <!-- navbar css -->
    <hr />
    <div id="navbar-main">
      <div id="navbar-menu">
        <li>
          <i class="fab fa-linkedin"></i>
          <p class="p-tag">LEARNING</p>
        </li>
    
        <li>
          <a href=""> <i class="fas fa-bars">BROWSE</i></a>
        </li>
    
        <li>
          <input type="text" name="" id="input-box" placeholder="Search For Skills,Subjetcts..." />
          <button id="button-box">
            <i class="fas fa-search"></i>
          </button>
        </li>
    
        <li>
          <a href=""><i class="fas fa-home">Home</i></a>
        </li>
        <li>
          <a href=""><i class="fas fa-book-open">My Learning</i></a>
        </li>
        <li>
          <img
            src="https://image.shutterstock.com/image-vector/user-icon-trendy-flat-style-260nw-1467725033.jpg"
            alt="" id="img" />
          <p class="p-tag">Me</p>
        </li>
        <li>
          <a href=""><i class="fas fa-passport">En</i></a>
        </li>
        <li>
          <a href="FreeTrial.html"><button id="button-box1">start my free month</button></a>
        </li>
      </div>
    </div>
    
    <hr />
    <div id="navbar-downmenu">
      <li><a href="">Solutions for:-</a></li>
      <li><a href="business.html">Business</a></li>
      <li><a href="highereducation.html">Higher Education</a></li>
      <li><a href="government.html">Government</a></li>
      <li><a href="">|</a></li>
      <li><a href="buyforteam.html">Buy for my team</a></li>
    </div>
    <br>
    <br>
    <!-- above navbar css -->
    <div id="wholeContainer"></div>
  </body>
</html>
<script type="module">
  import {
    languageFunc,
    typeFunc,
    timeFunc,
    levelFunc,
    allFunc,
    display,
    showLanguages,
    languageClose,
    showTime,
    timeClose,
    showLevel,
    levelClose,
    showAll,
    closeAllFilter,
    allReset,
    reset,
    typeClose,
    showType,
    openSortOptions,
    viewcount,
  } from "./CoursesScripts/courses.js";

  import { pageAppend } from "./CoursesComponents/coursepage.js";

  document.getElementById("wholeContainer").innerHTML = pageAppend();



  const keywords = ["category"];
  const values = ["Product Development"];

  const url =
    "http://localhost:2345/courses/search?category=Product%20Development";

  let consistentData = [url];

  let alldata;

  let toAppend = document.getElementById("displayProducts");

  const originalData = async (url) => {
    try {
      let res = await fetch(url);
      let data1 = await res.json();
      console.log(data1);
      display(data1.courses, toAppend);
      return originalData;
    } catch (err) {
      console.log(err.message);
    }
  };
  originalData(url);



  let stack = [];

  let language = document.querySelector("#language .selected");
  language.addEventListener("click", () => {
    languageFunc(stack);
  });

  let type = document.querySelector("#type .selected");
  type.addEventListener("click", () => {
    typeFunc(stack);
  });

  let time = document.querySelector("#time .selected");
  time.addEventListener("click", () => {
    timeFunc(stack);
  });

  let level = document.querySelector("#level .selected");
  level.addEventListener("click", () => {
    levelFunc(stack);
  });

  let all = document.querySelector("#all .selected");
  all.addEventListener("click", () => {
    allFunc(stack);
  });

  document.getElementById("sortSelected").addEventListener("click", () => {
    openSortOptions();
  });
  document.getElementById("viewCount").addEventListener("click", () => {
    viewcount(url);
  });

  document.getElementById("showLanguages").addEventListener("click", () => {
    data = showLanguages(stack, consistentData, keywords, values);
  });

  document.getElementById("languageClose").addEventListener("click", () => {
    languageClose(stack, consistentData, keywords, values);
  });

  document.getElementById("showType").addEventListener("click", () => {
    data = showType(stack, consistentData, keywords, values);
  });
  document.getElementById("typeClose").addEventListener("click", () => {
    typeClose(stack, consistentData, keywords, values);
  });

  document.getElementById("showTime").addEventListener("click", () => {
    data = showTime(stack, consistentData, keywords, values);
  });

  document.getElementById("timeClose").addEventListener("click", () => {
    timeClose(stack, consistentData, keywords, values);
  });

  document.getElementById("showLevel").addEventListener("click", () => {
    data = showLevel(stack, consistentData, keywords, values);
  });

  document.getElementById("levelClose").addEventListener("click", () => {
    levelClose(stack, consistentData, keywords, values);
  });

  document.getElementById("showAll").addEventListener("click", () => {
    data = showAll(stack, consistentData, keywords, values);
  });

  document.getElementById("closeAllFilter").addEventListener("click", () => {
    closeAllFilter(stack);
  });

  document.getElementById("allReset").addEventListener("click", () => {
    allReset(originalData, stack);
  });

  document.getElementById("reset").addEventListener("click", () => {
    reset(originalData, stack);
  });
</script>
